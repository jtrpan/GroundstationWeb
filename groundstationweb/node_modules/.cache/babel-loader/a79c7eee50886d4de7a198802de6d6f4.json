{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\James Pan\\\\Desktop\\\\demo\\\\groundstationweb\\\\src\\\\components\\\\MapArea\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { Segment } from \"semantic-ui-react\";\nimport AeroMap from \"./components/AeroMap\";\nimport MapSettings from \"./components/MapSettings\";\nimport \"./css/style.css\";\n\nclass MapArea extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mapLat: 49.258063,\n      mapLong: -123.195911,\n      targLat: null,\n      targLng: null,\n      followPlane: false,\n      drawPlane: true,\n      drawTarget: true,\n      drawCDAPredictionPoint: true,\n      drawPayloadPredictionPoint: true,\n      drawPlanePositionHistory: false,\n      zoom: 10\n    };\n\n    this.changeSettingsState = state => {\n      this.setState(state);\n    };\n\n    this.zoomToPlane = () => {\n      const currentData = this.props.currentData;\n      if (!currentData || !currentData.flightData) return;\n      const _currentData$flightDa = currentData.flightData,\n            latitude = _currentData$flightDa.latitude,\n            longitude = _currentData$flightDa.longitude;\n      const eps = Math.random() * 0.00000001;\n      this.setState({\n        mapLat: latitude + eps,\n        mapLong: longitude + eps,\n        zoom: 19 + eps\n      });\n    };\n\n    this.zoomToTarget = () => {\n      const _this$state = this.state,\n            targLat = _this$state.targLat,\n            targLng = _this$state.targLng;\n      if (this.state.targLat == null || this.state.targLng == null) return;\n      const eps = Math.random() * 0.00000001;\n      this.setState(previousState => {\n        return {\n          mapLat: targLat + eps,\n          mapLong: targLng + eps,\n          zoom: 12 + eps\n        };\n      });\n    };\n\n    this.setNewTarget = (inputLat, inputLng) => {\n      this.setState({\n        targLat: inputLat,\n        targLng: inputLng\n      });\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          currentData = _this$props.currentData,\n          planePositionHistory = _this$props.planePositionHistory,\n          clearRoute = _this$props.clearRoute;\n    const _this$state2 = this.state,\n          mapLat = _this$state2.mapLat,\n          mapLong = _this$state2.mapLong,\n          targLat = _this$state2.targLat,\n          targLng = _this$state2.targLng,\n          zoom = _this$state2.zoom,\n          followPlane = _this$state2.followPlane,\n          drawPlane = _this$state2.drawPlane,\n          drawTarget = _this$state2.drawTarget,\n          drawCDAPredictionPoint = _this$state2.drawCDAPredictionPoint,\n          drawPayloadPredictionPoint = _this$state2.drawPayloadPredictionPoint,\n          drawPlanePositionHistory = _this$state2.drawPlanePositionHistory;\n    const dataAvailable = currentData && currentData.flightData;\n    const planeLat = dataAvailable ? currentData.flightData.latitude : null;\n    const planeLong = dataAvailable ? currentData.flightData.longitude : null;\n    const payloadLat = dataAvailable ? currentData.flightData.payloadLatLong[0] : null;\n    const payloadLong = dataAvailable ? currentData.flightData.payloadLatLong[1] : null;\n    const cdaLat = dataAvailable ? currentData.flightData.cdaLatLong[0] : null;\n    const cdaLong = dataAvailable ? currentData.flightData.cdaLatLong[1] : null;\n\n    if (followPlane) {\n      if (mapLat !== planeLat || mapLong !== planeLong) {\n        this.setState({\n          mapLat: planeLat,\n          mapLong: planeLong\n        });\n      }\n    }\n\n    return React.createElement(Segment, {\n      style: {\n        padding: \"0px\",\n        display: \"flex\",\n        borderLeft: \"none\",\n        height: \"100%\",\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(AeroMap, {\n      planeLat: planeLat,\n      planeLong: planeLong,\n      mapLat: mapLat,\n      mapLong: mapLong,\n      targLat: targLat,\n      targLng: targLng,\n      zoom: zoom,\n      drawPlane: drawPlane,\n      drawTarget: drawTarget,\n      drawPlanePositionHistory: drawPlanePositionHistory,\n      drawCDAPredictionPoint: drawCDAPredictionPoint,\n      drawPayloadPredictionPoint: drawPayloadPredictionPoint,\n      payloadLat: payloadLat,\n      payloadLong: payloadLong,\n      cdaLat: cdaLat,\n      cdaLong: cdaLong,\n      planePositionHistory: planePositionHistory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(MapSettings, {\n      clearRoute: clearRoute,\n      drawPlane: drawPlane,\n      drawTarget: drawTarget,\n      drawCDAPredictionPoint: drawCDAPredictionPoint,\n      drawPayloadPredictionPoint: drawPayloadPredictionPoint,\n      drawPlanePositionHistory: drawPlanePositionHistory,\n      followPlane: followPlane,\n      zoomToPlane: this.zoomToPlane,\n      zoomToTarget: this.zoomToTarget,\n      changeSettingsState: this.changeSettingsState,\n      setNewTarget: this.setNewTarget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default MapArea;","map":{"version":3,"sources":["C:/Users/James Pan/Desktop/demo/groundstationweb/src/components/MapArea/index.jsx"],"names":["React","Component","Segment","AeroMap","MapSettings","MapArea","state","mapLat","mapLong","targLat","targLng","followPlane","drawPlane","drawTarget","drawCDAPredictionPoint","drawPayloadPredictionPoint","drawPlanePositionHistory","zoom","changeSettingsState","setState","zoomToPlane","currentData","props","flightData","latitude","longitude","eps","Math","random","zoomToTarget","previousState","setNewTarget","inputLat","inputLng","render","planePositionHistory","clearRoute","dataAvailable","planeLat","planeLong","payloadLat","payloadLatLong","payloadLong","cdaLat","cdaLatLong","cdaLong","padding","display","borderLeft","height","borderTopLeftRadius","borderBottomLeftRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Segment } from \"semantic-ui-react\";\r\nimport AeroMap from \"./components/AeroMap\";\r\nimport MapSettings from \"./components/MapSettings\";\r\nimport \"./css/style.css\";\r\n\r\nclass MapArea extends Component {\r\n  state = {\r\n    mapLat: 49.258063,\r\n    mapLong: -123.195911,\r\n    targLat: null,\r\n    targLng: null,\r\n    followPlane: false,\r\n    drawPlane: true,\r\n    drawTarget: true,\r\n    drawCDAPredictionPoint: true,\r\n    drawPayloadPredictionPoint: true,\r\n    drawPlanePositionHistory: false,\r\n    zoom: 10,\r\n  };\r\n\r\n  changeSettingsState = (state) => {\r\n    this.setState(state);\r\n  };\r\n\r\n  zoomToPlane = () => {\r\n    const { currentData } = this.props;\r\n    if (!currentData || !currentData.flightData) return;\r\n    const { latitude, longitude } = currentData.flightData;\r\n    const eps = Math.random()*0.00000001;\r\n    this.setState({ mapLat: latitude+eps, mapLong: longitude+eps, zoom: 19+eps });\r\n  };\r\n\r\n  zoomToTarget = () => {\r\n    const { targLat, targLng } = this.state;\r\n    if (this.state.targLat == null || this.state.targLng == null) return;\r\n    const eps = Math.random()*0.00000001;\r\n    this.setState((previousState) => { return { mapLat: targLat+eps, mapLong: targLng+eps, zoom: 12+eps }; });\r\n  };\r\n\r\n  setNewTarget = (inputLat, inputLng) => {\r\n    this.setState({\r\n      targLat: inputLat,\r\n      targLng: inputLng,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { currentData, planePositionHistory, clearRoute } = this.props;\r\n    const { mapLat, mapLong, targLat, targLng, zoom, followPlane, drawPlane, drawTarget, drawCDAPredictionPoint, drawPayloadPredictionPoint, drawPlanePositionHistory } = this.state;\r\n    const dataAvailable = currentData && currentData.flightData;\r\n    const planeLat = dataAvailable ? currentData.flightData.latitude : null;\r\n    const planeLong = dataAvailable ? currentData.flightData.longitude : null;\r\n    const payloadLat = dataAvailable ? currentData.flightData.payloadLatLong[0] : null;\r\n    const payloadLong = dataAvailable ? currentData.flightData.payloadLatLong[1] : null;\r\n    const cdaLat = dataAvailable ? currentData.flightData.cdaLatLong[0] : null;\r\n    const cdaLong = dataAvailable ? currentData.flightData.cdaLatLong[1] : null;\r\n    if (followPlane) {\r\n      if (mapLat !== planeLat || mapLong !== planeLong) {\r\n        this.setState({ mapLat: planeLat, mapLong: planeLong });\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Segment\r\n        style={{\r\n          padding: \"0px\",\r\n          display: \"flex\",\r\n          borderLeft: \"none\",\r\n          height: \"100%\",\r\n          borderTopLeftRadius: 0,\r\n          borderBottomLeftRadius: 0,\r\n        }}\r\n      >\r\n\r\n        <AeroMap\r\n          planeLat={planeLat}\r\n          planeLong={planeLong}\r\n          mapLat={mapLat}\r\n          mapLong={mapLong}\r\n          targLat={targLat}\r\n          targLng={targLng}\r\n          zoom={zoom}\r\n          drawPlane={drawPlane}\r\n          drawTarget={drawTarget}\r\n          drawPlanePositionHistory={drawPlanePositionHistory}\r\n          drawCDAPredictionPoint={drawCDAPredictionPoint}\r\n          drawPayloadPredictionPoint={drawPayloadPredictionPoint}\r\n          payloadLat={payloadLat}\r\n          payloadLong={payloadLong}\r\n          cdaLat={cdaLat}\r\n          cdaLong={cdaLong}\r\n          planePositionHistory={planePositionHistory}\r\n\r\n        />\r\n\r\n        <MapSettings\r\n          clearRoute={clearRoute}\r\n          drawPlane={drawPlane}\r\n          drawTarget={drawTarget}\r\n          drawCDAPredictionPoint={drawCDAPredictionPoint}\r\n          drawPayloadPredictionPoint={drawPayloadPredictionPoint}\r\n          drawPlanePositionHistory={drawPlanePositionHistory}\r\n          followPlane={followPlane}\r\n          zoomToPlane={this.zoomToPlane}\r\n          zoomToTarget={this.zoomToTarget}\r\n          changeSettingsState={this.changeSettingsState}\r\n          setNewTarget={this.setNewTarget}\r\n        />\r\n      </Segment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapArea;\r\n"]},"metadata":{},"sourceType":"module"}