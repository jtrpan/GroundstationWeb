{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\James Pan\\\\Desktop\\\\demo\\\\groundstationweb\\\\src\\\\components\\\\MapArea\\\\index.js\";\nimport React, { Component } from 'react';\nimport AeroMap from \"./components/AeroMap\";\nimport MapSettings from \"./components/MapSettings\";\nimport { Segment } from \"semantic-ui-react\";\nimport \"./css/style.css\";\n\nclass MapArea extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeSettingsState = state => {\n      this.setState(state);\n    };\n\n    this.zoomToPlane = () => {\n      const currentData = this.props.currentData;\n      if (!currentData || !currentData.flightData) return;\n      const _currentData$flightDa = currentData.flightData,\n            latitude = _currentData$flightDa.latitude,\n            longitude = _currentData$flightDa.longitude;\n      const eps = Math.random() * 0.00000001;\n      this.setState({\n        mapLat: latitude + eps,\n        mapLong: longitude + eps,\n        zoom: 19 + eps\n      });\n    };\n\n    this.zoomToTarget = () => {\n      if (this.state.targLat == null || this.state.targLng == null) return;\n      const eps = Math.random() * 0.00000001;\n      this.setState({\n        mapLat: this.state.targLat + eps,\n        mapLong: this.state.targLng + eps,\n        zoom: 19 + eps\n      });\n    };\n\n    this.setNewTarget = (inputLat, inputLng) => {\n      this.setState({\n        targLat: inputLat,\n        targLng: inputLng\n      });\n    };\n\n    this.followPlaneLive = () => {\n      if (this.state.followPlane) {\n        /*\r\n        this.interval = setInterval(\r\n            () => {\r\n                this.setState({ mapLat: this.planeLat, mapLong: this.planeLong });\r\n            },\r\n            10\r\n        );\r\n        } else {\r\n        clearInterval(this.interval);\r\n        }\r\n        */\n      }\n    };\n\n    this.state = {\n      mapLat: 49.258063,\n      mapLong: -123.195911,\n      targLat: null,\n      targLng: null,\n      followPlane: true,\n      drawPlane: true,\n      drawTarget: true,\n      drawPredictionPoint: true,\n      zoom: 10\n    };\n    this.planeLat = 0;\n    this.planeLong = 0;\n    this.payloadLat = 0;\n    this.payloadLong = 0;\n    this.cdaLat = 0;\n    this.cdaLong = 0;\n  }\n\n  componentWillUpdate() {}\n\n  render() {\n    const _this$props = this.props,\n          height = _this$props.height,\n          currentData = _this$props.currentData;\n    const _this$state = this.state,\n          mapLat = _this$state.mapLat,\n          mapLong = _this$state.mapLong,\n          targLat = _this$state.targLat,\n          targLng = _this$state.targLng,\n          zoom = _this$state.zoom,\n          followPlane = _this$state.followPlane,\n          drawPlane = _this$state.drawPlane,\n          drawTarget = _this$state.drawTarget,\n          drawPredictionPoint = _this$state.drawPredictionPoint;\n\n    if (currentData && currentData.flightData) {\n      this.planeLat = currentData.flightData.latitude;\n      this.planeLong = currentData.flightData.longitude;\n      this.payloadLat = currentData.flightData.payloadLatLong[0];\n      this.payloadLong = currentData.flightData.payloadLatLong[1];\n      this.cdaLat = currentData.flightData.cdaLatLong[0];\n      this.cdaLong = currentData.flightData.cdaLatLong[1];\n    }\n\n    if (!this.state.followPlane) {\n      if (this.state.mapLat != this.planeLat || this.state.mapLong != this.planeLong) {\n        this.setState({\n          mapLat: this.planeLat,\n          mapLong: this.planeLong\n        });\n      }\n    }\n\n    return React.createElement(Segment, {\n      style: {\n        padding: \"0px\",\n        display: \"flex\",\n        borderLeft: \"none\",\n        height: \"100%\",\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(AeroMap, {\n      planeLat: this.planeLat,\n      planeLong: this.planeLong,\n      mapLat: mapLat,\n      mapLong: mapLong,\n      mapHeight: height - 42,\n      targLat: targLat,\n      targLng: targLng,\n      zoom: zoom,\n      drawPlane: drawPlane,\n      drawTarget: drawTarget,\n      drawPredictionPoint: drawPredictionPoint,\n      payloadLat: this.payloadLat,\n      payloadLong: this.payloadLong,\n      cdaLat: this.cdaLat,\n      cdaLong: this.cdaLong,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(MapSettings, {\n      drawPlane: drawPlane,\n      drawTarget: drawTarget,\n      drawPredictionPoint: drawPredictionPoint,\n      followPlane: followPlane,\n      zoomToPlane: this.zoomToPlane,\n      zoomToTarget: this.zoomToTarget,\n      followPlaneLive: this.followPlaneLive,\n      changeSettingsState: this.changeSettingsState,\n      setNewTarget: this.setNewTarget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default MapArea;","map":{"version":3,"sources":["C:\\Users\\James Pan\\Desktop\\demo\\groundstationweb\\src\\components\\MapArea\\index.js"],"names":["React","Component","AeroMap","MapSettings","Segment","MapArea","constructor","props","changeSettingsState","state","setState","zoomToPlane","currentData","flightData","latitude","longitude","eps","Math","random","mapLat","mapLong","zoom","zoomToTarget","targLat","targLng","setNewTarget","inputLat","inputLng","followPlaneLive","followPlane","drawPlane","drawTarget","drawPredictionPoint","planeLat","planeLong","payloadLat","payloadLong","cdaLat","cdaLong","componentWillUpdate","render","height","payloadLatLong","cdaLatLong","padding","display","borderLeft","borderTopLeftRadius","borderBottomLeftRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AeroMap from \"./components/AeroMap\";\r\nimport MapSettings from \"./components/MapSettings\";\r\nimport { Segment } from \"semantic-ui-react\";\r\nimport \"./css/style.css\";\r\n\r\nclass MapArea extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            mapLat: 49.258063,\r\n            mapLong: -123.195911,\r\n            targLat: null,\r\n            targLng: null,\r\n            followPlane: true,\r\n            drawPlane: true,\r\n            drawTarget: true,\r\n            drawPredictionPoint: true,\r\n            zoom: 10,\r\n        };\r\n        this.planeLat = 0;\r\n        this.planeLong = 0;\r\n        this.payloadLat = 0;\r\n        this.payloadLong = 0;\r\n        this.cdaLat = 0;\r\n        this.cdaLong = 0;\r\n\r\n    };\r\n\r\n    componentWillUpdate(){\r\n\r\n    };\r\n\r\n    changeSettingsState = (state) => {\r\n        this.setState(state);\r\n    };\r\n\r\n    zoomToPlane = () => {\r\n        const { currentData } = this.props;\r\n        if (!currentData || !currentData.flightData) return;\r\n        const { latitude, longitude } = currentData.flightData;\r\n        const eps = Math.random()*0.00000001;\r\n        this.setState({ mapLat: latitude+eps, mapLong: longitude+eps, zoom: 19+eps });\r\n    };\r\n\r\n    zoomToTarget = () => {\r\n        if (this.state.targLat == null || this.state.targLng == null) return;\r\n        const eps = Math.random()*0.00000001;\r\n        this.setState({ mapLat: this.state.targLat + eps, mapLong: this.state.targLng + eps, zoom: 19+eps });\r\n    };\r\n\r\n    setNewTarget = (inputLat, inputLng) => {\r\n        this.setState({\r\n            targLat: inputLat,\r\n            targLng: inputLng,\r\n        })\r\n    }\r\n\r\n    followPlaneLive = () => {\r\n        if (this.state.followPlane){\r\n            /*\r\n            this.interval = setInterval(\r\n                () => {\r\n                    this.setState({ mapLat: this.planeLat, mapLong: this.planeLong });\r\n                },\r\n                10\r\n            );\r\n        } else {\r\n            clearInterval(this.interval);\r\n        }\r\n        */\r\n    }\r\n    }\r\n\r\n    render(){\r\n        const { height, currentData } = this.props;\r\n        const { mapLat, mapLong, targLat, targLng, zoom, followPlane, drawPlane, drawTarget, drawPredictionPoint} = this.state;\r\n        if (currentData && currentData.flightData) {\r\n            this.planeLat = currentData.flightData.latitude;\r\n            this.planeLong = currentData.flightData.longitude;\r\n            this.payloadLat = currentData.flightData.payloadLatLong[0];\r\n            this.payloadLong = currentData.flightData.payloadLatLong[1];\r\n            this.cdaLat = currentData.flightData.cdaLatLong[0];\r\n            this.cdaLong = currentData.flightData.cdaLatLong[1];\r\n\r\n        }\r\n        if (!this.state.followPlane){\r\n            if((this.state.mapLat != this.planeLat) || (this.state.mapLong != this.planeLong)){\r\n                this.setState({ mapLat: this.planeLat, mapLong: this.planeLong });\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Segment\r\n                style={{\r\n                    padding: \"0px\",\r\n                    display: \"flex\",\r\n                    borderLeft: \"none\",\r\n                    height: \"100%\",\r\n                    borderTopLeftRadius: 0,\r\n                    borderBottomLeftRadius: 0,\r\n                }}\r\n            >\r\n\r\n                <AeroMap\r\n                    planeLat={this.planeLat}\r\n                    planeLong={this.planeLong}\r\n                    mapLat={mapLat}\r\n                    mapLong={mapLong}\r\n                    mapHeight={height - 42}\r\n                    targLat={targLat}\r\n                    targLng={targLng}\r\n                    zoom={zoom}\r\n                    drawPlane={drawPlane}\r\n                    drawTarget={drawTarget}\r\n                    drawPredictionPoint={drawPredictionPoint}\r\n                    payloadLat = {this.payloadLat}\r\n                    payloadLong = {this.payloadLong}\r\n                    cdaLat = {this.cdaLat}\r\n                    cdaLong = {this.cdaLong}\r\n                />\r\n\r\n                <MapSettings\r\n                    drawPlane={drawPlane}\r\n                    drawTarget={drawTarget}\r\n                    drawPredictionPoint={drawPredictionPoint}\r\n                    followPlane={followPlane}\r\n                    zoomToPlane={this.zoomToPlane}\r\n                    zoomToTarget={this.zoomToTarget}\r\n                    followPlaneLive={this.followPlaneLive}\r\n                    changeSettingsState={this.changeSettingsState}\r\n                    setNewTarget={this.setNewTarget}\r\n                />\r\n            </Segment>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default MapArea;\r\n\r\n"]},"metadata":{},"sourceType":"module"}