{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\James Pan\\\\Documents\\\\UBC\\\\demo\\\\groundstationweb\\\\src\\\\components\\\\MapArea\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { Segment } from \"semantic-ui-react\";\nimport AeroMap from \"./components/AeroMap\";\nimport MapSettings from \"./components/MapSettings\";\nimport \"./css/style.css\";\n\nclass MapArea extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mapLat: 49.258063,\n      mapLong: -123.195911,\n      targLat: null,\n      targLng: null,\n      followPlane: false,\n      drawPlane: true,\n      smoothPlane: true,\n      predLat: null,\n      predLong: null,\n      drawTarget: true,\n      drawCDAPredictionPoint: true,\n      drawPayloadPredictionPoint: true,\n      drawPlanePositionHistory: true,\n      zoom: 10\n    };\n\n    this.changeSettingsState = state => {\n      this.setState(state);\n    };\n\n    this.zoomToPlane = () => {\n      const currentData = this.props.currentData;\n      if (!currentData) return;\n      const latitude = currentData.latitude,\n            longitude = currentData.longitude;\n      const eps = Math.random() * 0.00000001;\n      this.setState({\n        mapLat: latitude + eps,\n        mapLong: longitude + eps,\n        zoom: 19 + eps\n      });\n    };\n\n    this.zoomToTarget = () => {\n      if (this.state.targLat == null || this.state.targLng == null) return;\n      const eps = Math.random() * 0.00000001;\n      this.setState(state => {\n        return {\n          mapLat: state.targLat + eps,\n          mapLong: state.targLng + eps,\n          zoom: 19 + eps\n        };\n      });\n    };\n\n    this.setNewTarget = (inputLat, inputLng) => {\n      this.setState({\n        targLat: inputLat,\n        targLng: inputLng\n      });\n    };\n\n    this.nextCoords = () => {\n      const currentData = this.props.currentData;\n      if (!currentData) return;\n      const latitude = currentData.latitude,\n            longitude = currentData.longitude;\n      const speed = currentData.speed,\n            direction = currentData.direction;\n      this.setState({\n        predLat: latitude,\n        predLong: longitude\n      });\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          currentData = _this$props.currentData,\n          planePositionHistory = _this$props.planePositionHistory;\n    const _this$state = this.state,\n          mapLat = _this$state.mapLat,\n          mapLong = _this$state.mapLong,\n          targLat = _this$state.targLat,\n          targLng = _this$state.targLng,\n          zoom = _this$state.zoom,\n          followPlane = _this$state.followPlane,\n          drawPlane = _this$state.drawPlane,\n          smoothPlane = _this$state.smoothPlane,\n          predLat = _this$state.predLat,\n          predLong = _this$state.predLong,\n          drawTarget = _this$state.drawTarget,\n          drawCDAPredictionPoint = _this$state.drawCDAPredictionPoint,\n          drawPayloadPredictionPoint = _this$state.drawPayloadPredictionPoint,\n          drawPlanePositionHistory = _this$state.drawPlanePositionHistory;\n    const dataAvailable = currentData && currentData;\n    const planeLat = dataAvailable ? currentData.latitude : null;\n    const planeLong = dataAvailable ? currentData.longitude : null;\n    const payloadLat = dataAvailable ? currentData.payloadLatLong[0] : null;\n    const payloadLong = dataAvailable ? currentData.payloadLatLong[1] : null;\n    const cdaLat = dataAvailable ? currentData.cdaLatLong[0] : null;\n    const cdaLong = dataAvailable ? currentData.cdaLatLong[1] : null;\n\n    if (followPlane) {\n      if (mapLat !== planeLat || mapLong !== planeLong) {\n        this.setState({\n          mapLat: planeLat,\n          mapLong: planeLong\n        });\n      }\n    }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      style: {\n        padding: \"0px\",\n        display: \"flex\",\n        borderLeft: \"none\",\n        height: \"100%\",\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(AeroMap, {\n      planeLat: planeLat,\n      planeLong: planeLong,\n      mapLat: mapLat,\n      mapLong: mapLong,\n      targLat: targLat,\n      targLng: targLng,\n      zoom: zoom,\n      drawPlane: drawPlane,\n      smoothPlane: smoothPlane,\n      predLat: predLat,\n      predLong: predLong,\n      drawTarget: drawTarget,\n      drawPlanePositionHistory: drawPlanePositionHistory,\n      drawCDAPredictionPoint: drawCDAPredictionPoint,\n      drawPayloadPredictionPoint: drawPayloadPredictionPoint,\n      payloadLat: payloadLat,\n      payloadLong: payloadLong,\n      cdaLat: cdaLat,\n      cdaLong: cdaLong,\n      planePositionHistory: planePositionHistory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(MapSettings, {\n      drawPlane: drawPlane,\n      smoothPlane: smoothPlane,\n      drawTarget: drawTarget,\n      drawCDAPredictionPoint: drawCDAPredictionPoint,\n      drawPayloadPredictionPoint: drawPayloadPredictionPoint,\n      drawPlanePositionHistory: drawPlanePositionHistory,\n      followPlane: followPlane,\n      zoomToPlane: this.zoomToPlane,\n      zoomToTarget: this.zoomToTarget,\n      changeSettingsState: this.changeSettingsState,\n      setNewTarget: this.setNewTarget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default MapArea;","map":{"version":3,"sources":["C:/Users/James Pan/Documents/UBC/demo/groundstationweb/src/components/MapArea/index.jsx"],"names":["React","Component","Segment","AeroMap","MapSettings","MapArea","state","mapLat","mapLong","targLat","targLng","followPlane","drawPlane","smoothPlane","predLat","predLong","drawTarget","drawCDAPredictionPoint","drawPayloadPredictionPoint","drawPlanePositionHistory","zoom","changeSettingsState","setState","zoomToPlane","currentData","props","latitude","longitude","eps","Math","random","zoomToTarget","setNewTarget","inputLat","inputLng","nextCoords","speed","direction","render","planePositionHistory","dataAvailable","planeLat","planeLong","payloadLat","payloadLatLong","payloadLong","cdaLat","cdaLatLong","cdaLong","padding","display","borderLeft","height","borderTopLeftRadius","borderBottomLeftRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Segment } from \"semantic-ui-react\";\nimport AeroMap from \"./components/AeroMap\";\nimport MapSettings from \"./components/MapSettings\";\nimport \"./css/style.css\";\n\nclass MapArea extends Component {\n  state = {\n    mapLat: 49.258063,\n    mapLong: -123.195911,\n    targLat: null,\n    targLng: null,\n    followPlane: false,\n    drawPlane: true,\n    smoothPlane: true,\n    predLat: null,\n    predLong: null,\n    drawTarget: true,\n    drawCDAPredictionPoint: true,\n    drawPayloadPredictionPoint: true,\n    drawPlanePositionHistory: true,\n    zoom: 10,\n  };\n\n  changeSettingsState = (state) => {\n    this.setState(state);\n  };\n\n  zoomToPlane = () => {\n    const { currentData } = this.props;\n    if (!currentData) return;\n    const { latitude, longitude } = currentData;\n    const eps = Math.random()*0.00000001;\n    this.setState({ mapLat: latitude+eps, mapLong: longitude+eps, zoom: 19+eps });\n  };\n\n  zoomToTarget = () => {\n    if (this.state.targLat == null || this.state.targLng == null) return;\n    const eps = Math.random()*0.00000001;\n    this.setState((state) => { return { mapLat: state.targLat + eps, mapLong: state.targLng + eps, zoom: 19+eps }; });\n  };\n\n  setNewTarget = (inputLat, inputLng) => {\n    this.setState({\n      targLat: inputLat,\n      targLng: inputLng,\n    });\n  };\n\n  nextCoords = () => {\n    const { currentData } = this.props;\n    if (!currentData) return;\n    const { latitude, longitude } = currentData;\n    const { speed, direction } = currentData;\n    this.setState({ predLat: latitude, predLong: longitude });\n  };\n\n  render() {\n    const { currentData, planePositionHistory } = this.props;\n    const { mapLat, mapLong, targLat, targLng, zoom, followPlane, drawPlane, smoothPlane, predLat, predLong, drawTarget, drawCDAPredictionPoint, drawPayloadPredictionPoint, drawPlanePositionHistory } = this.state;\n    const dataAvailable = currentData && currentData;\n    const planeLat = dataAvailable ? currentData.latitude : null;\n    const planeLong = dataAvailable ? currentData.longitude : null;\n    const payloadLat = dataAvailable ? currentData.payloadLatLong[0] : null;\n    const payloadLong = dataAvailable ? currentData.payloadLatLong[1] : null;\n    const cdaLat = dataAvailable ? currentData.cdaLatLong[0] : null;\n    const cdaLong = dataAvailable ? currentData.cdaLatLong[1] : null;\n\n    if (followPlane) {\n      if (mapLat !== planeLat || mapLong !== planeLong) {\n        this.setState({ mapLat: planeLat, mapLong: planeLong });\n      }\n    }\n\n    return (\n      <React.Fragment>\n        <Segment\n          style={{\n            padding: \"0px\",\n            display: \"flex\",\n            borderLeft: \"none\",\n            height: \"100%\",\n            borderTopLeftRadius: 0,\n            borderBottomLeftRadius: 0,\n          }}\n        >\n          <AeroMap\n            planeLat={planeLat}\n            planeLong={planeLong}\n            mapLat={mapLat}\n            mapLong={mapLong}\n            targLat={targLat}\n            targLng={targLng}\n            zoom={zoom}\n            drawPlane={drawPlane}\n            smoothPlane={smoothPlane}\n            predLat={predLat}\n            predLong={predLong}\n            drawTarget={drawTarget}\n            drawPlanePositionHistory={drawPlanePositionHistory}\n            drawCDAPredictionPoint={drawCDAPredictionPoint}\n            drawPayloadPredictionPoint={drawPayloadPredictionPoint}\n            payloadLat={payloadLat}\n            payloadLong={payloadLong}\n            cdaLat={cdaLat}\n            cdaLong={cdaLong}\n            planePositionHistory={planePositionHistory}\n          />\n        </Segment>\n        <MapSettings\n          drawPlane={drawPlane}\n          smoothPlane={smoothPlane}\n          drawTarget={drawTarget}\n          drawCDAPredictionPoint={drawCDAPredictionPoint}\n          drawPayloadPredictionPoint={drawPayloadPredictionPoint}\n          drawPlanePositionHistory={drawPlanePositionHistory}\n          followPlane={followPlane}\n          zoomToPlane={this.zoomToPlane}\n          zoomToTarget={this.zoomToTarget}\n          changeSettingsState={this.changeSettingsState}\n          setNewTarget={this.setNewTarget}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default MapArea;\n"]},"metadata":{},"sourceType":"module"}